/* ============================================
   TAURUS CRM - DARK THEME
   Comprehensive Dark Mode Styles
   ============================================ */

:root[data-theme="dark"] {
    --gold: #d4af37;
    --gold-light: #f4e4b4;
    --gold-dark: #b8941f;
    --bg-primary: #1a1a1a;
    --bg-secondary: #0f0f0f;
    --bg-tertiary: #2d2d2d;
    --bg-card: #1f1f1f;
    --text-primary: #e5e5e5;
    --text-secondary: #b0b0b0;
    --text-muted: #737373;
    --border-color: #333333;
    --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3);
    --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4);
    --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.5);
}

/* =================== GLOBAL STYLES =================== */
[data-theme="dark"] body {
    background: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] #page-content {
    background: var(--bg-secondary) !important;
}

[data-theme="dark"] .container-fluid {
    background: var(--bg-secondary) !important;
}

/* Main content wrappers */
[data-theme="dark"] .chat-wrapper,
[data-theme="dark"] .main-content,
[data-theme="dark"] .page-wrapper,
[data-theme="dark"] .content-area {
    background: var(--bg-secondary) !important;
}

/* Remove white backgrounds from main sections */
[data-theme="dark"] main,
[data-theme="dark"] section,
[data-theme="dark"] article {
    background: transparent !important;
}

/* Aggressively target white backgrounds in content areas */
[data-theme="dark"] *[style*="background: white"]:not([class*="bg-"]):not(.badge):not(.btn):not([style*="gradient"]),
[data-theme="dark"] *[style*="background:#fff"]:not([class*="bg-"]):not(.badge):not(.btn):not([style*="gradient"]),
[data-theme="dark"] *[style*="background: #ffffff"]:not([class*="bg-"]):not(.badge):not(.btn):not([style*="gradient"]),
[data-theme="dark"] *[style*="background-color: white"]:not([class*="bg-"]):not(.badge):not(.btn):not([style*="gradient"]),
[data-theme="dark"] *[style*="background-color:#fff"]:not([class*="bg-"]):not(.badge):not(.btn):not([style*="gradient"]),
[data-theme="dark"] *[style*="background-color: #ffffff"]:not([class*="bg-"]):not(.badge):not(.btn):not([style*="gradient"]) {
    background-color: transparent !important;
    background: transparent !important;
}

/* =================== SIDEBAR =================== */
[data-theme="dark"] #sidebar {
    background: var(--bg-primary) !important;
    border-right: 1px solid var(--border-color) !important;
    box-shadow: var(--shadow-md) !important;
}

[data-theme="dark"] .sidebar-logo {
    border-bottom: 1px solid var(--border-color) !important;
    background: var(--bg-primary) !important;
}

[data-theme="dark"] .logo-text {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .logo-subtext {
    color: var(--text-secondary) !important;
}

[data-theme="dark"] .sidebar-toggle {
    background: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .sidebar-toggle:hover {
    background: var(--bg-card) !important;
}

[data-theme="dark"] .menu-label {
    color: var(--text-muted) !important;
    border-bottom: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .menu-item {
    color: var(--text-secondary) !important;
}

[data-theme="dark"] .menu-item:hover {
    background: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .menu-item.active {
    background: linear-gradient(135deg, #d4af37 0%, #b8941f 100%) !important;
    color: #000 !important;
}

[data-theme="dark"] .menu-item.active i {
    color: #000 !important;
}

/* =================== TOP HEADER =================== */
[data-theme="dark"] .top-header {
    background: var(--bg-primary) !important;
    border-bottom: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .top-header * {
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .notification-btn {
    background: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
    border: none !important;
}

[data-theme="dark"] .notification-btn:hover {
    background: var(--bg-card) !important;
}

[data-theme="dark"] .user-avatar {
    border: 2px solid var(--border-color) !important;
}

/* User menu area - clean styling */
[data-theme="dark"] .user-menu > *,
[data-theme="dark"] .user-menu > div,
[data-theme="dark"] .user-menu button,
[data-theme="dark"] .user-menu a {
    border: none !important;
    box-shadow: none !important;
}

/* User profile box - rounded and subtle */
[data-theme="dark"] .user-menu > div[style*="background: #f3f4f6"],
[data-theme="dark"] .user-menu > div[style*="background:#f3f4f6"] {
    background: transparent !important;
    border: none !important;
}

/* Theme toggle button - clean */
[data-theme="dark"] .theme-toggle-btn {
    background: transparent !important;
    border: none !important;
    border-radius: 8px !important;
}

[data-theme="dark"] .theme-toggle-btn:hover {
    background: rgba(212, 175, 55, 0.1) !important;
    border: none !important;
}

/* Notification and chat buttons - no boxes */
[data-theme="dark"] .notification-btn {
    background: transparent !important;
    border: none !important;
    border-radius: 8px !important;
    padding: 0.5rem !important;
}

[data-theme="dark"] .notification-btn:hover {
    background: rgba(212, 175, 55, 0.1) !important;
    border: none !important;
}

/* User avatar and profile area - rounded */
[data-theme="dark"] .user-avatar {
    border: none !important;
    border-radius: 50% !important;
}

/* Remove all boxes from top header elements */
[data-theme="dark"] .top-header > div,
[data-theme="dark"] .top-header > div > *,
[data-theme="dark"] .user-menu > * {
    border: none !important;
    box-shadow: none !important;
}

/* =================== CARDS =================== */
[data-theme="dark"] .card,
[data-theme="dark"] .card[style] {
    background: var(--bg-card) !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .card-header,
[data-theme="dark"] .card-header[style] {
    background: var(--bg-tertiary) !important;
    border-bottom: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .card-body,
[data-theme="dark"] .card-body[style] {
    background: var(--bg-card) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .card-title,
[data-theme="dark"] .card-title[style] {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .card-subtitle,
[data-theme="dark"] .card-text {
    color: var(--text-secondary) !important;
}

[data-theme="dark"] .card-footer,
[data-theme="dark"] .card-footer[style] {
    background: var(--bg-tertiary) !important;
    border-top: 1px solid var(--border-color) !important;
}

/* Card with explicit white backgrounds */
[data-theme="dark"] .card[style*="background: white"],
[data-theme="dark"] .card[style*="background:white"],
[data-theme="dark"] .card[style*="background: #fff"],
[data-theme="dark"] .card[style*="background:#fff"] {
    background: var(--bg-card) !important;
}

[data-theme="dark"] .card-header[style*="background: white"],
[data-theme="dark"] .card-header[style*="background:white"],
[data-theme="dark"] .card-header[style*="background: #fff"],
[data-theme="dark"] .card-header[style*="background:#fff"] {
    background: var(--bg-tertiary) !important;
}

/* =================== TABLES - AGGRESSIVE OVERRIDES =================== */
[data-theme="dark"] table,
[data-theme="dark"] .table,
[data-theme="dark"] table[style],
[data-theme="dark"] .table[style] {
    color: var(--text-primary) !important;
    background-color: var(--bg-card) !important;
    background: var(--bg-card) !important;
}

[data-theme="dark"] table thead,
[data-theme="dark"] .table thead,
[data-theme="dark"] table thead[style],
[data-theme="dark"] thead[style*="background"] {
    background-color: var(--bg-tertiary) !important;
    background: var(--bg-tertiary) !important;
}

[data-theme="dark"] table thead th,
[data-theme="dark"] .table thead th,
[data-theme="dark"] table thead td,
[data-theme="dark"] table th,
[data-theme="dark"] .table th {
    background-color: var(--bg-tertiary) !important;
    background: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] table tbody,
[data-theme="dark"] .table tbody,
[data-theme="dark"] table tbody[style] {
    background-color: var(--bg-card) !important;
    background: var(--bg-card) !important;
}

[data-theme="dark"] table tbody tr,
[data-theme="dark"] .table tbody tr,
[data-theme="dark"] table tbody tr[style],
[data-theme="dark"] table tr,
[data-theme="dark"] .table tr {
    background-color: var(--bg-card) !important;
    background: var(--bg-card) !important;
    border-color: var(--border-color) !important;
    color: var(--text-primary) !important;
}

/* Alternating row colors */
[data-theme="dark"] table tbody tr:nth-child(even),
[data-theme="dark"] .table tbody tr:nth-child(even) {
    background-color: var(--bg-tertiary) !important;
    background: var(--bg-tertiary) !important;
}

[data-theme="dark"] table tbody tr:hover,
[data-theme="dark"] .table tbody tr:hover,
[data-theme="dark"] table tr:hover,
[data-theme="dark"] .table tr:hover {
    background-color: rgba(212, 175, 55, 0.15) !important;
    background: rgba(212, 175, 55, 0.15) !important;
}

[data-theme="dark"] table tbody tr:hover td,
[data-theme="dark"] .table tbody tr:hover td,
[data-theme="dark"] table tr:hover td,
[data-theme="dark"] .table tr:hover td {
    color: var(--text-primary) !important;
}

[data-theme="dark"] table tbody td,
[data-theme="dark"] .table tbody td,
[data-theme="dark"] table td,
[data-theme="dark"] .table td {
    color: var(--text-primary) !important;
    border-color: var(--border-color) !important;
    background-color: transparent !important;
}

[data-theme="dark"] table tbody td[style],
[data-theme="dark"] .table tbody td[style],
[data-theme="dark"] table td[style] {
    color: var(--text-primary) !important;
}

/* Table cell content - text, links, spans */
[data-theme="dark"] table td *:not(.badge):not(.btn):not([class*="bg-"]):not([style*="background: linear-gradient"]),
[data-theme="dark"] .table td *:not(.badge):not(.btn):not([class*="bg-"]):not([style*="background: linear-gradient"]),
[data-theme="dark"] table th *:not(.badge):not(.btn):not([class*="bg-"]),
[data-theme="dark"] .table th *:not(.badge):not(.btn):not([class*="bg-"]) {
    color: var(--text-primary) !important;
}

[data-theme="dark"] table td a:not(.btn),
[data-theme="dark"] .table td a:not(.btn),
[data-theme="dark"] table th a:not(.btn),
[data-theme="dark"] .table th a:not(.btn) {
    color: var(--gold) !important;
}

[data-theme="dark"] table td strong,
[data-theme="dark"] .table td strong,
[data-theme="dark"] table td b,
[data-theme="dark"] .table td b {
    color: var(--text-primary) !important;
}

/* Table text specifically in td/th elements with inline styles */
[data-theme="dark"] table td[style*="color"],
[data-theme="dark"] table th[style*="color"],
[data-theme="dark"] .table td[style*="color"],
[data-theme="dark"] .table th[style*="color"] {
    color: var(--text-primary) !important;
}

/* Table row text */
[data-theme="dark"] table tr[style*="color"],
[data-theme="dark"] .table tr[style*="color"] {
    color: var(--text-primary) !important;
}

/* All children of table cells - FORCE dark backgrounds */
[data-theme="dark"] table td > *:not(.badge):not(.btn):not([class*="bg-"]):not([class*="text-"]),
[data-theme="dark"] .table td > *:not(.badge):not(.btn):not([class*="bg-"]):not([class*="text-"]),
[data-theme="dark"] table th > *:not(.badge):not(.btn):not([class*="bg-"]):not([class*="text-"]),
[data-theme="dark"] .table th > *:not(.badge):not(.btn):not([class*="bg-"]):not([class*="text-"]) {
    color: var(--text-primary) !important;
    background: transparent !important;
}

/* Nested elements in table cells - remove white backgrounds */
[data-theme="dark"] table td span:not(.badge):not([class*="bg-"]),
[data-theme="dark"] .table td span:not(.badge):not([class*="bg-"]),
[data-theme="dark"] table td div:not(.badge):not([class*="bg-"]),
[data-theme="dark"] .table td div:not(.badge):not([class*="bg-"]),
[data-theme="dark"] table td p,
[data-theme="dark"] .table td p {
    color: var(--text-primary) !important;
    background: transparent !important;
}

/* Remove any borders from table cell content */
[data-theme="dark"] table td *,
[data-theme="dark"] .table td * {
    border: none !important;
}

/* Table cell input fields and form elements */
[data-theme="dark"] table td input,
[data-theme="dark"] .table td input,
[data-theme="dark"] table td select,
[data-theme="dark"] .table td select {
    background: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border-color) !important;
}

/* Empty table cells or cells with just whitespace */
[data-theme="dark"] table td:empty,
[data-theme="dark"] .table td:empty {
    background: transparent !important;
}

/* Table header cells - ensure no white backgrounds */
[data-theme="dark"] table thead th,
[data-theme="dark"] .table thead th,
[data-theme="dark"] table thead td,
[data-theme="dark"] .table thead td {
    background-color: var(--bg-tertiary) !important;
    background: var(--bg-tertiary) !important;
    border: 1px solid var(--border-color) !important;
}

/* First few columns that tend to have white boxes */
[data-theme="dark"] table td:first-child,
[data-theme="dark"] table td:nth-child(2),
[data-theme="dark"] .table td:first-child,
[data-theme="dark"] .table td:nth-child(2) {
    background: transparent !important;
}

/* Table icons */
[data-theme="dark"] table td i.bx,
[data-theme="dark"] .table td i.bx,
[data-theme="dark"] table th i.bx,
[data-theme="dark"] .table th i.bx,
[data-theme="dark"] table td i[class*="icon"],
[data-theme="dark"] .table td i[class*="icon"] {
    color: var(--text-primary) !important;
}

/* Status text in tables that should remain colored */
[data-theme="dark"] table .text-success,
[data-theme="dark"] table .text-danger,
[data-theme="dark"] table .text-warning,
[data-theme="dark"] table .text-info,
[data-theme="dark"] table .text-primary,
[data-theme="dark"] .table .text-success,
[data-theme="dark"] .table .text-danger,
[data-theme="dark"] .table .text-warning,
[data-theme="dark"] .table .text-info,
[data-theme="dark"] .table .text-primary {
    color: inherit !important;
}

[data-theme="dark"] .table-striped tbody tr:nth-of-type(odd),
[data-theme="dark"] .table-striped tbody tr:nth-of-type(odd)[style] {
    background-color: var(--bg-card) !important;
    background: var(--bg-card) !important;
}

[data-theme="dark"] .table-striped tbody tr:nth-of-type(even),
[data-theme="dark"] .table-striped tbody tr:nth-of-type(even)[style] {
    background-color: var(--bg-tertiary) !important;
    background: var(--bg-tertiary) !important;
}

[data-theme="dark"] .table-bordered,
[data-theme="dark"] .table-bordered th,
[data-theme="dark"] .table-bordered td {
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .table-wrapper,
[data-theme="dark"] .table-responsive {
    background-color: var(--bg-card) !important;
    background: var(--bg-card) !important;
}

/* DataTables specific */
[data-theme="dark"] .dataTables_scroll,
[data-theme="dark"] .dataTables_scrollBody,
[data-theme="dark"] .dataTables_scrollHead,
[data-theme="dark"] .dataTables_scrollHeadInner,
[data-theme="dark"] .dataTables_scrollBody table,
[data-theme="dark"] div.dataTables_wrapper div.dataTables_scrollBody table {
    background-color: var(--bg-card) !important;
    background: var(--bg-card) !important;
}

/* Override any remaining white table backgrounds from inline styles */
[data-theme="dark"] table[style*="background: white"],
[data-theme="dark"] table[style*="background:white"],
[data-theme="dark"] table[style*="background: #fff"],
[data-theme="dark"] table[style*="background:#fff"],
[data-theme="dark"] tr[style*="background: white"],
[data-theme="dark"] tr[style*="background:white"],
[data-theme="dark"] tr[style*="background: #fff"],
[data-theme="dark"] tr[style*="background:#fff"],
[data-theme="dark"] td[style*="background: white"],
[data-theme="dark"] td[style*="background:white"],
[data-theme="dark"] td[style*="background: #fff"],
[data-theme="dark"] td[style*="background:#fff"],
[data-theme="dark"] th[style*="background: white"],
[data-theme="dark"] th[style*="background:white"],
[data-theme="dark"] th[style*="background: #fff"],
[data-theme="dark"] th[style*="background:#fff"] {
    background-color: var(--bg-card) !important;
    background: var(--bg-card) !important;
}

[data-theme="dark"] tbody[style*="background: white"],
[data-theme="dark"] tbody[style*="background:white"],
[data-theme="dark"] tbody[style*="background: #fff"],
[data-theme="dark"] tbody[style*="background:#fff"],
[data-theme="dark"] thead[style*="background: white"],
[data-theme="dark"] thead[style*="background:white"],
[data-theme="dark"] thead[style*="background: #fff"],
[data-theme="dark"] thead[style*="background:#fff"] {
    background-color: var(--bg-tertiary) !important;
    background: var(--bg-tertiary) !important;
}

/* =================== FORMS =================== */
[data-theme="dark"] .form-control {
    background: var(--bg-tertiary) !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .form-control:focus {
    background: var(--bg-card) !important;
    border-color: var(--gold) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .form-control::placeholder {
    color: var(--text-muted) !important;
}

[data-theme="dark"] .form-select {
    background: var(--bg-tertiary) !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .form-select:focus {
    background: var(--bg-card) !important;
    border-color: var(--gold) !important;
}

[data-theme="dark"] .form-label {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .form-check-label {
    color: var(--text-primary) !important;
}

[data-theme="dark"] textarea.form-control {
    background: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .input-group-text {
    background: var(--bg-tertiary) !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
}

/* =================== MODALS =================== */
[data-theme="dark"] .modal-content {
    background: var(--bg-card) !important;
    border: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .modal-header {
    background: var(--bg-tertiary) !important;
    border-bottom: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .modal-title {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .modal-body {
    background: var(--bg-card) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .modal-footer {
    background: var(--bg-tertiary) !important;
    border-top: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .btn-close {
    filter: invert(1) grayscale(100%) brightness(200%);
}

/* =================== DROPDOWNS =================== */
[data-theme="dark"] .dropdown-menu {
    background: var(--bg-card) !important;
    border: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .dropdown-item {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .dropdown-item:hover {
    background: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .dropdown-divider {
    border-color: var(--border-color) !important;
}

/* =================== NOTIFICATIONS =================== */
[data-theme="dark"] .notification-dropdown {
    background: var(--bg-card) !important;
    border: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .notification-header {
    background: var(--bg-tertiary) !important;
    border-bottom: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .notification-header h6 {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .notification-item {
    border-bottom: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .notification-item:hover {
    background: var(--bg-tertiary) !important;
}

[data-theme="dark"] .notification-item.unread {
    background: rgba(212, 175, 55, 0.1) !important;
}

/* =================== BADGES =================== */
[data-theme="dark"] .badge {
    color: #fff !important;
}

[data-theme="dark"] .badge.bg-light {
    background: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .badge.text-dark {
    color: #fff !important;
}

/* Bootstrap badge colors - preserve them */
[data-theme="dark"] .badge-primary,
[data-theme="dark"] .bg-primary {
    background-color: #007bff !important;
    color: #fff !important;
}

[data-theme="dark"] .badge-success,
[data-theme="dark"] .bg-success {
    background-color: #28a745 !important;
    color: #fff !important;
}

[data-theme="dark"] .badge-danger,
[data-theme="dark"] .bg-danger {
    background-color: #dc3545 !important;
    color: #fff !important;
}

[data-theme="dark"] .badge-warning,
[data-theme="dark"] .bg-warning {
    background-color: #ffc107 !important;
    color: #000 !important;
}

[data-theme="dark"] .badge-info,
[data-theme="dark"] .bg-info {
    background-color: #17a2b8 !important;
    color: #fff !important;
}

/* Attendance status badges - preserve their colors */
[data-theme="dark"] .badge[class*="present"],
[data-theme="dark"] [class*="badge-present"],
[data-theme="dark"] [class*="Present"] .badge {
    background-color: #28a745 !important;
    color: #fff !important;
}

[data-theme="dark"] .badge[class*="late"],
[data-theme="dark"] [class*="badge-late"],
[data-theme="dark"] [class*="Late"] .badge {
    background-color: #ffc107 !important;
    color: #000 !important;
}

[data-theme="dark"] .badge[class*="absent"],
[data-theme="dark"] [class*="badge-absent"],
[data-theme="dark"] [class*="Absent"] .badge {
    background-color: #dc3545 !important;
    color: #fff !important;
}

[data-theme="dark"] .badge[class*="half"],
[data-theme="dark"] [class*="badge-half"],
[data-theme="dark"] [class*="Half"] .badge {
    background-color: #17a2b8 !important;
    color: #fff !important;
}

[data-theme="dark"] .badge[class*="leave"],
[data-theme="dark"] [class*="badge-leave"],
[data-theme="dark"] [class*="paid"],
[data-theme="dark"] [class*="Leave"] .badge {
    background-color: #6f42c1 !important;
    color: #fff !important;
}

/* =================== BUTTONS =================== */
[data-theme="dark"] .btn-outline-primary {
    border-color: var(--gold) !important;
    color: var(--gold) !important;
}

[data-theme="dark"] .btn-outline-primary:hover {
    background: var(--gold) !important;
    color: #000 !important;
}

[data-theme="dark"] .btn-outline-secondary {
    border-color: var(--border-color) !important;
    color: var(--text-secondary) !important;
}

[data-theme="dark"] .btn-outline-secondary:hover {
    background: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .btn-link {
    color: var(--gold) !important;
}

/* =================== ALERTS =================== */
[data-theme="dark"] .alert {
    border: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .alert-success {
    background: rgba(16, 185, 129, 0.15) !important;
    color: #10b981 !important;
}

[data-theme="dark"] .alert-danger {
    background: rgba(239, 68, 68, 0.15) !important;
    color: #ef4444 !important;
}

[data-theme="dark"] .alert-warning {
    background: rgba(245, 158, 11, 0.15) !important;
    color: #f59e0b !important;
}

[data-theme="dark"] .alert-info {
    background: rgba(59, 130, 246, 0.15) !important;
    color: #3b82f6 !important;
}

/* =================== TEXT COLORS =================== */
[data-theme="dark"] .text-muted {
    color: var(--text-muted) !important;
}

[data-theme="dark"] .text-secondary {
    color: var(--text-secondary) !important;
}

[data-theme="dark"] .text-body {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .text-dark {
    color: var(--text-primary) !important;
}

/* All text elements */
[data-theme="dark"] p,
[data-theme="dark"] span:not(.badge):not([class*="bg-"]),
[data-theme="dark"] div:not(.badge):not([class*="bg-"]):not([style*="background: linear-gradient"]),
[data-theme="dark"] label,
[data-theme="dark"] h1, 
[data-theme="dark"] h2, 
[data-theme="dark"] h3, 
[data-theme="dark"] h4, 
[data-theme="dark"] h5, 
[data-theme="dark"] h6,
[data-theme="dark"] strong,
[data-theme="dark"] b,
[data-theme="dark"] em,
[data-theme="dark"] i:not([class*="bx"]):not([class*="icon"]),
[data-theme="dark"] small,
[data-theme="dark"] td:not([class*="bg-"]),
[data-theme="dark"] th {
    color: var(--text-primary) !important;
}

/* Force text in specific containers */
[data-theme="dark"] .card-body *:not(.badge):not(.btn):not([class*="bg-"]):not([style*="background: linear-gradient"]),
[data-theme="dark"] .modal-body *:not(.badge):not(.btn):not([class*="bg-"]):not([style*="background: linear-gradient"]),
[data-theme="dark"] .list-group-item *:not(.badge):not(.btn):not([class*="bg-"]) {
    color: var(--text-primary) !important;
}

/* Icons */
[data-theme="dark"] i.bx,
[data-theme="dark"] i[class*="icon"],
[data-theme="dark"] .icon {
    color: var(--text-primary) !important;
}

/* Icon buttons */
[data-theme="dark"] button i.bx,
[data-theme="dark"] a i.bx,
[data-theme="dark"] .btn i.bx {
    color: inherit !important;
}

/* Specific icon colors that should remain */
[data-theme="dark"] .text-success i,
[data-theme="dark"] .text-danger i,
[data-theme="dark"] .text-warning i,
[data-theme="dark"] .text-info i,
[data-theme="dark"] .text-primary i {
    color: inherit !important;
}

/* =================== BREADCRUMB =================== */
[data-theme="dark"] .breadcrumb {
    background: var(--bg-tertiary) !important;
    border: none !important;
}

[data-theme="dark"] .breadcrumb-item,
[data-theme="dark"] .breadcrumb-item a {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .breadcrumb-item.active {
    color: var(--text-secondary) !important;
}

/* Page title/breadcrumb area - fix alignment and remove black boxes */
[data-theme="dark"] .page-title-box,
[data-theme="dark"] .page-breadcrumb {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    padding: 0 !important;
}

/* Management header area - completely clean, no boxes */
[data-theme="dark"] [class*="page-title"],
[data-theme="dark"] [class*="breadcrumb-wrapper"],
[data-theme="dark"] [class*="page-header"] {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    margin: 0 !important;
    padding: 0 !important;
}

/* Remove the black rectangle boxes under headings */
[data-theme="dark"] [style*="background: black"],
[data-theme="dark"] [style*="background:black"],
[data-theme="dark"] [style*="background: #000"],
[data-theme="dark"] [style*="background:#000"] {
    background: transparent !important;
    border: none !important;
}

/* Dashboard heading areas */
[data-theme="dark"] [class*="dashboard"][class*="header"],
[data-theme="dark"] [class*="page"][class*="heading"] {
    background: transparent !important;
    border: none !important;
    padding: 1rem 0 !important;
}

/* Remove boxes from inline styled divs in header areas */
[data-theme="dark"] [style*="padding"][style*="background"]:not(.card):not(.badge):not(.btn):not([style*="linear-gradient"]),
[data-theme="dark"] [style*="margin"][style*="background"]:not(.card):not(.badge):not(.btn):not([style*="linear-gradient"]) {
    border: none !important;
    box-shadow: none !important;
}

/* =================== PAGINATION =================== */
[data-theme="dark"] .pagination .page-link {
    background: var(--bg-card) !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .pagination .page-link:hover {
    background: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .pagination .page-item.active .page-link {
    background: var(--gold) !important;
    border-color: var(--gold) !important;
    color: #000 !important;
}

/* =================== NAV TABS =================== */
[data-theme="dark"] .nav-tabs {
    border-bottom: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .nav-tabs .nav-link {
    color: var(--text-secondary) !important;
    border-color: transparent !important;
}

[data-theme="dark"] .nav-tabs .nav-link:hover {
    color: var(--text-primary) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .nav-tabs .nav-link.active {
    background: var(--bg-card) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-color) var(--border-color) var(--bg-card) !important;
}

/* =================== PROGRESS BARS =================== */
[data-theme="dark"] .progress {
    background: var(--bg-tertiary) !important;
}

/* =================== LIST GROUPS =================== */
[data-theme="dark"] .list-group-item {
    background: var(--bg-card) !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .list-group-item:hover {
    background: var(--bg-tertiary) !important;
}

[data-theme="dark"] .list-group-item.active {
    background: var(--gold) !important;
    border-color: var(--gold) !important;
    color: #000 !important;
}

/* =================== DATATABLE - COMPREHENSIVE =================== */
[data-theme="dark"] .dataTables_wrapper,
[data-theme="dark"] div.dataTables_wrapper {
    color: var(--text-primary) !important;
    background: var(--bg-card) !important;
}

[data-theme="dark"] .dataTables_wrapper .dataTables_filter input,
[data-theme="dark"] div.dataTables_wrapper div.dataTables_filter input {
    background: var(--bg-tertiary) !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .dataTables_wrapper .dataTables_length select,
[data-theme="dark"] div.dataTables_wrapper div.dataTables_length select {
    background: var(--bg-tertiary) !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .dataTables_wrapper .dataTables_info,
[data-theme="dark"] div.dataTables_wrapper div.dataTables_info {
    color: var(--text-secondary) !important;
}

[data-theme="dark"] .dataTables_wrapper .dataTables_paginate .paginate_button,
[data-theme="dark"] div.dataTables_wrapper div.dataTables_paginate span .paginate_button {
    color: var(--text-primary) !important;
    background: var(--bg-tertiary) !important;
    border: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .dataTables_wrapper .dataTables_paginate .paginate_button:hover,
[data-theme="dark"] div.dataTables_wrapper div.dataTables_paginate span .paginate_button:hover {
    background: var(--bg-card) !important;
    color: var(--text-primary) !important;
    border-color: var(--gold) !important;
}

[data-theme="dark"] .dataTables_wrapper .dataTables_paginate .paginate_button.current,
[data-theme="dark"] .dataTables_wrapper .dataTables_paginate .paginate_button.current:hover {
    background: var(--gold) !important;
    color: #000 !important;
    border-color: var(--gold) !important;
}

[data-theme="dark"] div.dataTables_wrapper div.dataTables_length label,
[data-theme="dark"] div.dataTables_wrapper div.dataTables_filter label {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .dataTables_wrapper .dataTables_processing {
    background: var(--bg-card) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border-color) !important;
}

/* DataTable header */
[data-theme="dark"] .dataTables_wrapper table.dataTable thead th,
[data-theme="dark"] .dataTables_wrapper table.dataTable thead td {
    border-bottom-color: var(--border-color) !important;
}

/* DataTable footer */
[data-theme="dark"] .dataTables_wrapper table.dataTable tfoot th,
[data-theme="dark"] .dataTables_wrapper table.dataTable tfoot td {
    border-top-color: var(--border-color) !important;
}

/* =================== SCROLLBAR =================== */
[data-theme="dark"] ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

[data-theme="dark"] ::-webkit-scrollbar-track {
    background: var(--bg-tertiary);
}

[data-theme="dark"] ::-webkit-scrollbar-thumb {
    background: var(--bg-card);
    border-radius: 5px;
}

[data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
    background: var(--text-muted);
}

/* =================== CHAT WIDGET =================== */
[data-theme="dark"] .chat-container {
    background: var(--bg-card) !important;
    border: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .chat-header {
    background: var(--bg-tertiary) !important;
    border-bottom: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .chat-message {
    background: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .chat-message.sent {
    background: rgba(212, 175, 55, 0.2) !important;
}

/* Chat Sidebar */
[data-theme="dark"] .chat-sidebar,
[data-theme="dark"] #conversationsSidebar {
    background: var(--bg-card) !important;
    border-right: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .conversation-item,
[data-theme="dark"] .conversation-list-item {
    background: var(--bg-card) !important;
    border-bottom: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .conversation-item:hover,
[data-theme="dark"] .conversation-list-item:hover {
    background: var(--bg-tertiary) !important;
}

[data-theme="dark"] .conversation-item.active,
[data-theme="dark"] .conversation-list-item.active {
    background: var(--bg-tertiary) !important;
}

[data-theme="dark"] .chat-input-area {
    background: var(--bg-card) !important;
    border-top: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .message-bubble {
    background: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .message-bubble.sent {
    background: rgba(212, 175, 55, 0.3) !important;
}

[data-theme="dark"] .chat-search input {
    background: var(--bg-tertiary) !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
}

/* =================== MISC =================== */
[data-theme="dark"] hr {
    border-color: var(--border-color) !important;
    opacity: 1 !important;
}

[data-theme="dark"] .border {
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .bg-white {
    background: var(--bg-card) !important;
}

[data-theme="dark"] .bg-light {
    background: var(--bg-tertiary) !important;
}

[data-theme="dark"] a {
    color: var(--gold);
}

[data-theme="dark"] a:hover {
    color: var(--gold-light);
}

/* Override inline styles for white/light backgrounds - VERY AGGRESSIVE */
[data-theme="dark"] div[style*="background: white"]:not([style*="linear-gradient"]),
[data-theme="dark"] div[style*="background:white"]:not([style*="linear-gradient"]),
[data-theme="dark"] div[style*="background: #fff"]:not([style*="linear-gradient"]),
[data-theme="dark"] div[style*="background:#fff"]:not([style*="linear-gradient"]),
[data-theme="dark"] div[style*="background: #ffffff"]:not([style*="linear-gradient"]),
[data-theme="dark"] div[style*="background:#ffffff"]:not([style*="linear-gradient"]),
[data-theme="dark"] span[style*="background: white"]:not([style*="linear-gradient"]),
[data-theme="dark"] span[style*="background:white"]:not([style*="linear-gradient"]),
[data-theme="dark"] span[style*="background: #fff"]:not([style*="linear-gradient"]),
[data-theme="dark"] span[style*="background:#fff"]:not([style*="linear-gradient"]),
[data-theme="dark"] section[style*="background: white"]:not([style*="linear-gradient"]),
[data-theme="dark"] section[style*="background:white"]:not([style*="linear-gradient"]),
[data-theme="dark"] section[style*="background: #fff"]:not([style*="linear-gradient"]),
[data-theme="dark"] section[style*="background:#fff"]:not([style*="linear-gradient"]) {
    background-color: var(--bg-card) !important;
    background: var(--bg-card) !important;
}

[data-theme="dark"] div[style*="background: #f8f9fa"],
[data-theme="dark"] div[style*="background:#f8f9fa"],
[data-theme="dark"] div[style*="background: #f3f4f6"],
[data-theme="dark"] div[style*="background:#f3f4f6"],
[data-theme="dark"] div[style*="background: #f5f5f5"],
[data-theme="dark"] div[style*="background:#f5f5f5"],
[data-theme="dark"] div[style*="background: #f9fafb"],
[data-theme="dark"] div[style*="background:#f9fafb"],
[data-theme="dark"] div[style*="background: #f0f0f0"],
[data-theme="dark"] div[style*="background:#f0f0f0"],
[data-theme="dark"] div[style*="background: #f9f9f9"],
[data-theme="dark"] div[style*="background:#f9f9f9"],
[data-theme="dark"] div[style*="background: #f4f4f4"],
[data-theme="dark"] div[style*="background:#f4f4f4"],
[data-theme="dark"] div[style*="background: #f8f9fc"],
[data-theme="dark"] div[style*="background:#f8f9fc"],
[data-theme="dark"] div[style*="background: #fafaf8"],
[data-theme="dark"] div[style*="background:#fafaf8"] {
    background-color: var(--bg-tertiary) !important;
    background: var(--bg-tertiary) !important;
}

[data-theme="dark"] div[style*="background-color: white"]:not([style*="linear-gradient"]),
[data-theme="dark"] div[style*="background-color:white"]:not([style*="linear-gradient"]),
[data-theme="dark"] div[style*="background-color: #fff"]:not([style*="linear-gradient"]),
[data-theme="dark"] div[style*="background-color:#fff"]:not([style*="linear-gradient"]),
[data-theme="dark"] span[style*="background-color: white"]:not([style*="linear-gradient"]),
[data-theme="dark"] span[style*="background-color:white"]:not([style*="linear-gradient"]),
[data-theme="dark"] span[style*="background-color: #fff"]:not([style*="linear-gradient"]),
[data-theme="dark"] span[style*="background-color:#fff"]:not([style*="linear-gradient"]) {
    background-color: var(--bg-card) !important;
}

/* Text color overrides for black text */
[data-theme="dark"] div[style*="color: #000"]:not([class*="badge"]):not(.btn),
[data-theme="dark"] div[style*="color:#000"]:not([class*="badge"]):not(.btn),
[data-theme="dark"] div[style*="color: black"]:not([class*="badge"]):not(.btn),
[data-theme="dark"] div[style*="color:black"]:not([class*="badge"]):not(.btn),
[data-theme="dark"] span[style*="color: #000"]:not([class*="badge"]):not(.btn),
[data-theme="dark"] span[style*="color:#000"]:not([class*="badge"]):not(.btn),
[data-theme="dark"] span[style*="color: black"]:not([class*="badge"]):not(.btn),
[data-theme="dark"] span[style*="color:black"]:not([class*="badge"]):not(.btn),
[data-theme="dark"] p[style*="color: #000"],
[data-theme="dark"] p[style*="color:#000"],
[data-theme="dark"] p[style*="color: black"],
[data-theme="dark"] p[style*="color:black"] {
    color: var(--text-primary) !important;
}

/* Headings with inline styles */
[data-theme="dark"] h1[style*="color"],
[data-theme="dark"] h2[style*="color"],
[data-theme="dark"] h3[style*="color"],
[data-theme="dark"] h4[style*="color"],
[data-theme="dark"] h5[style*="color"],
[data-theme="dark"] h6[style*="color"] {
    color: var(--text-primary) !important;
}

/* Dark text colors that need to be light in dark mode */
[data-theme="dark"] [style*="color: #1f2937"],
[data-theme="dark"] [style*="color:#1f2937"],
[data-theme="dark"] [style*="color: #111"],
[data-theme="dark"] [style*="color:#111"],
[data-theme="dark"] [style*="color: #374151"],
[data-theme="dark"] [style*="color:#374151"] {
    color: var(--text-primary) !important;
}

[data-theme="dark"] [style*="color: #6b7280"],
[data-theme="dark"] [style*="color:#6b7280"],
[data-theme="dark"] [style*="color: #94a3b8"],
[data-theme="dark"] [style*="color:#94a3b8"] {
    color: var(--text-secondary) !important;
}

/* =================== THEME TOGGLE BUTTON =================== */
.theme-toggle-btn {
    background: transparent;
    border: none;
    padding: 0.5rem;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.theme-toggle-btn:hover {
    background: rgba(212, 175, 55, 0.1);
}

.theme-toggle-btn i {
    font-size: 1.25rem;
    color: var(--gold);
}

[data-theme="dark"] .theme-toggle-btn i {
    color: #fbbf24;
}

/* =================== PAGE-SPECIFIC STYLES =================== */

/* Dashboard Cards */
[data-theme="dark"] .stats-card,
[data-theme="dark"] .metric-card,
[data-theme="dark"] .dashboard-card {
    background: var(--bg-card) !important;
    border: 1px solid var(--border-color) !important;
}

/* Search Inputs */
[data-theme="dark"] input[type="search"],
[data-theme="dark"] input[placeholder*="Search"],
[data-theme="dark"] input[placeholder*="search"] {
    background: var(--bg-tertiary) !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
}

/* Action Buttons in Tables */
[data-theme="dark"] .action-btn,
[data-theme="dark"] .table-action-btn {
    background: var(--bg-tertiary) !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .action-btn:hover,
[data-theme="dark"] .table-action-btn:hover {
    background: var(--bg-card) !important;
}

/* Filters and Toolbars */
[data-theme="dark"] .filter-bar,
[data-theme="dark"] .toolbar {
    background: var(--bg-card) !important;
    border: 1px solid var(--border-color) !important;
}

/* Empty State Messages */
[data-theme="dark"] .empty-state,
[data-theme="dark"] .no-data-message {
    color: var(--text-secondary) !important;
}

/* Sidebar Specific Overrides */
[data-theme="dark"] .sidebar-content,
[data-theme="dark"] .sidebar-panel {
    background: var(--bg-card) !important;
    border: 1px solid var(--border-color) !important;
}

/* Container Overrides */
[data-theme="dark"] .container,
[data-theme="dark"] .container-fluid {
    background: var(--bg-secondary) !important;
}

/* Row Overrides */
[data-theme="dark"] .row > * {
    color: var(--text-primary);
}

/* Info Boxes */
[data-theme="dark"] .info-box,
[data-theme="dark"] .detail-box {
    background: var(--bg-tertiary) !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
}

/* Labels and Small Text */
[data-theme="dark"] label,
[data-theme="dark"] .label-text,
[data-theme="dark"] small {
    color: var(--text-primary) !important;
}

/* Lead/Data Display Cards */
[data-theme="dark"] .lead-card,
[data-theme="dark"] .data-card,
[data-theme="dark"] .detail-card {
    background: var(--bg-card) !important;
    border: 1px solid var(--border-color) !important;
}

/* Page Headers */
[data-theme="dark"] .page-header,
[data-theme="dark"] .page-title-box {
    background: var(--bg-card) !important;
    color: var(--text-primary) !important;
}

/* Status Indicators that should remain visible */
[data-theme="dark"] .status-pending,
[data-theme="dark"] .status-approved,
[data-theme="dark"] .status-declined,
[data-theme="dark"] .badge-success,
[data-theme="dark"] .badge-danger,
[data-theme="dark"] .badge-warning,
[data-theme="dark"] .badge-info {
    /* Keep their original backgrounds for visibility */
    color: white !important;
}

/* Toast/Notification specific - keep white background for readability */
[data-theme="dark"] .toast[style*="background:#fff"],
[data-theme="dark"] .toast[style*="background:white"] {
    background: var(--bg-card) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border-color) !important;
}

/* Specific overrides for gradient backgrounds that should remain */
[data-theme="dark"] [style*="background: linear-gradient"],
[data-theme="dark"] [style*="background:linear-gradient"] {
    /* Don't override gradient backgrounds, they're intentional */
    background: inherit !important;
}

/* =================== CHAT PAGE COMPREHENSIVE STYLES =================== */

/* Chat Wrapper and Container - ensure dark background */
[data-theme="dark"] .chat-wrapper {
    background: var(--bg-secondary) !important;
}

[data-theme="dark"] .chat-container {
    background: var(--bg-secondary) !important;
}

/* Chat main content area */
[data-theme="dark"] .chat-main-content,
[data-theme="dark"] .chat-area {
    background: var(--bg-secondary) !important;
}

/* People/Team directory area */
[data-theme="dark"] .team-directory,
[data-theme="dark"] .people-grid,
[data-theme="dark"] .user-grid {
    background: var(--bg-secondary) !important;
}

/* User cards in directory */
[data-theme="dark"] .user-card,
[data-theme="dark"] .people-card,
[data-theme="dark"] .team-member-card {
    background: var(--bg-card) !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
}

/* Chat Icon Sidebar (Left Icon Bar) */
[data-theme="dark"] .chat-icon-sidebar {
    background: var(--bg-primary) !important;
    border-right: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .chat-icon-btn {
    color: var(--text-secondary) !important;
    background: transparent !important;
}

[data-theme="dark"] .chat-icon-btn:hover {
    background: var(--bg-tertiary) !important;
    color: var(--gold) !important;
}

[data-theme="dark"] .chat-icon-btn.active {
    background: rgba(212, 175, 55, 0.15) !important;
    color: var(--gold) !important;
}

/* Chat Main Sidebar (Conversations List) */
[data-theme="dark"] .chat-sidebar {
    background: var(--bg-card) !important;
    border-right: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .chat-sidebar-header {
    background: var(--bg-card) !important;
    border-bottom: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .chat-sidebar-header h5 {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .chat-sidebar-header .btn {
    background: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .chat-sidebar-header .btn:hover {
    background: var(--bg-primary) !important;
    color: var(--gold) !important;
}

/* Chat Search Box */
[data-theme="dark"] .chat-search-box {
    background: var(--bg-card) !important;
    border-bottom: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .chat-search-input,
[data-theme="dark"] #searchConversations,
[data-theme="dark"] #searchCommunities,
[data-theme="dark"] #searchPeople {
    background: var(--bg-tertiary) !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .chat-search-input::placeholder,
[data-theme="dark"] #searchConversations::placeholder,
[data-theme="dark"] #searchCommunities::placeholder,
[data-theme="dark"] #searchPeople::placeholder {
    color: var(--text-muted) !important;
}

/* Conversation Items */
[data-theme="dark"] .conversation-item,
[data-theme="dark"] .conversations-list .conversation,
[data-theme="dark"] .community-item,
[data-theme="dark"] .user-item {
    background: var(--bg-card) !important;
    border-bottom: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .conversation-item:hover,
[data-theme="dark"] .conversations-list .conversation:hover,
[data-theme="dark"] .community-item:hover,
[data-theme="dark"] .user-item:hover {
    background: var(--bg-tertiary) !important;
}

[data-theme="dark"] .conversation-item.active,
[data-theme="dark"] .conversations-list .conversation.active,
[data-theme="dark"] .community-item.active {
    background: var(--bg-tertiary) !important;
    border-left: 3px solid var(--gold) !important;
}

[data-theme="dark"] .conversation-name,
[data-theme="dark"] .community-name,
[data-theme="dark"] .user-name {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .conversation-preview,
[data-theme="dark"] .conversation-last-message,
[data-theme="dark"] .user-role {
    color: var(--text-secondary) !important;
}

[data-theme="dark"] .conversation-time,
[data-theme="dark"] .message-time {
    color: var(--text-muted) !important;
}

/* Chat Main Area */
[data-theme="dark"] .chat-main {
    background: var(--bg-secondary) !important;
}

[data-theme="dark"] .chat-header,
[data-theme="dark"] .chat-main-header {
    background: var(--bg-card) !important;
    border-bottom: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .chat-header-title,
[data-theme="dark"] .chat-participant-name {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .chat-header-subtitle,
[data-theme="dark"] .chat-participant-status {
    color: var(--text-secondary) !important;
}

/* Chat Messages Area */
[data-theme="dark"] .chat-messages,
[data-theme="dark"] .messages-container {
    background: var(--bg-secondary) !important;
}

[data-theme="dark"] .message-bubble,
[data-theme="dark"] .chat-message {
    background: var(--bg-card) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .message-bubble.sent,
[data-theme="dark"] .chat-message.sent,
[data-theme="dark"] .message-bubble.own,
[data-theme="dark"] .chat-message.own {
    background: rgba(212, 175, 55, 0.25) !important;
    border: 1px solid rgba(212, 175, 55, 0.4) !important;
}

[data-theme="dark"] .message-text {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .message-author {
    color: var(--gold) !important;
}

[data-theme="dark"] .message-timestamp,
[data-theme="dark"] .message-meta {
    color: var(--text-muted) !important;
}

/* Chat Input Area */
[data-theme="dark"] .chat-input-area,
[data-theme="dark"] .chat-footer,
[data-theme="dark"] .message-input-container {
    background: var(--bg-card) !important;
    border-top: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .chat-input,
[data-theme="dark"] .message-input,
[data-theme="dark"] #messageInput {
    background: var(--bg-tertiary) !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .chat-input::placeholder,
[data-theme="dark"] .message-input::placeholder,
[data-theme="dark"] #messageInput::placeholder {
    color: var(--text-muted) !important;
}

[data-theme="dark"] .chat-input-actions button,
[data-theme="dark"] .message-actions button {
    background: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .chat-input-actions button:hover,
[data-theme="dark"] .message-actions button:hover {
    background: var(--bg-card) !important;
    color: var(--gold) !important;
}

[data-theme="dark"] .send-button,
[data-theme="dark"] .btn-send {
    background: var(--gold) !important;
    color: #000 !important;
}

[data-theme="dark"] .send-button:hover,
[data-theme="dark"] .btn-send:hover {
    background: var(--gold-light) !important;
}

/* Chat Welcome/Empty State */
[data-theme="dark"] .chat-welcome,
[data-theme="dark"] .empty-chat-state {
    background: var(--bg-secondary) !important;
    color: var(--text-secondary) !important;
}

/* Loading States */
[data-theme="dark"] .loading-conversations,
[data-theme="dark"] .loading-messages {
    color: var(--text-secondary) !important;
}

/* Unread Badge */
[data-theme="dark"] .unread-badge,
[data-theme="dark"] .unread-count {
    background: var(--gold) !important;
    color: #000 !important;
}

/* Member List */
[data-theme="dark"] .members-list,
[data-theme="dark"] .participants-list {
    background: var(--bg-card) !important;
}

[data-theme="dark"] .member-item,
[data-theme="dark"] .participant-item {
    background: var(--bg-card) !important;
    border-bottom: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .member-item:hover,
[data-theme="dark"] .participant-item:hover {
    background: var(--bg-tertiary) !important;
}

/* Chat Sidebar Tabs */
[data-theme="dark"] .chat-sidebar-content {
    background: var(--bg-card) !important;
}

[data-theme="dark"] .conversations-list,
[data-theme="dark"] .communities-list,
[data-theme="dark"] .users-list {
    background: var(--bg-card) !important;
}

/* Message Attachments */
[data-theme="dark"] .message-attachment,
[data-theme="dark"] .attachment-preview {
    background: var(--bg-tertiary) !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
}

/* Date Divider in Chat */
[data-theme="dark"] .date-divider,
[data-theme="dark"] .message-date-separator {
    color: var(--text-muted) !important;
}

[data-theme="dark"] .date-divider::before,
[data-theme="dark"] .date-divider::after,
[data-theme="dark"] .message-date-separator::before,
[data-theme="dark"] .message-date-separator::after {
    background: var(--border-color) !important;
}

/* Typing Indicator */
[data-theme="dark"] .typing-indicator {
    color: var(--text-secondary) !important;
}

/* Online Status Indicators (keep green/red) */
[data-theme="dark"] .status-online,
[data-theme="dark"] .online-indicator {
    background: #10b981 !important;
}

[data-theme="dark"] .status-offline,
[data-theme="dark"] .offline-indicator {
    background: #6b7280 !important;
}

/* Community/Group Icons */
[data-theme="dark"] .community-icon,
[data-theme="dark"] .group-avatar {
    background: var(--bg-tertiary) !important;
    border: 1px solid var(--border-color) !important;
}

/* Chat Settings/Options */
[data-theme="dark"] .chat-options,
[data-theme="dark"] .conversation-options {
    background: var(--bg-card) !important;
    border: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .chat-option-item {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .chat-option-item:hover {
    background: var(--bg-tertiary) !important;
}

/* Announcement Banner in Chat */
[data-theme="dark"] .announcement-banner,
[data-theme="dark"] .chat-announcement {
    background: rgba(212, 175, 55, 0.15) !important;
    border: 1px solid rgba(212, 175, 55, 0.3) !important;
    color: var(--text-primary) !important;
}

/* Pin/Starred Messages */
[data-theme="dark"] .pinned-message {
    background: rgba(212, 175, 55, 0.1) !important;
    border-left: 3px solid var(--gold) !important;
}

/* React/Emoji Picker */
[data-theme="dark"] .emoji-picker,
[data-theme="dark"] .reaction-picker {
    background: var(--bg-card) !important;
    border: 1px solid var(--border-color) !important;
}

/* Message Reactions */
[data-theme="dark"] .message-reaction {
    background: var(--bg-tertiary) !important;
    border: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .message-reaction:hover {
    background: var(--bg-card) !important;
    border-color: var(--gold) !important;
}

/* =================== EXECUTIVE DASHBOARD SPECIFIC =================== */
[data-theme="dark"] .executive-dashboard,
[data-theme="dark"] .dashboard-wrapper {
    background: var(--bg-secondary) !important;
}

[data-theme="dark"] .stat-card,
[data-theme="dark"] .metrics-card,
[data-theme="dark"] .stats-widget,
[data-theme="dark"] .metric-box,
[data-theme="dark"] .stat-box {
    background: var(--bg-card) !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .stat-value,
[data-theme="dark"] .metric-value,
[data-theme="dark"] .count-value {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .stat-label,
[data-theme="dark"] .metric-label,
[data-theme="dark"] .count-label {
    color: var(--text-secondary) !important;
}

/* Target/Progress Circles */
[data-theme="dark"] .progress-circle,
[data-theme="dark"] .circular-progress {
    color: var(--text-primary) !important;
}

/* Attendance dashboard specific */
[data-theme="dark"] [class*="attendance"][class*="dashboard"],
[data-theme="dark"] [class*="attendance"][class*="wrapper"] {
    background: var(--bg-secondary) !important;
}

/* Calendar and date pickers */
[data-theme="dark"] .calendar,
[data-theme="dark"] .datepicker,
[data-theme="dark"] [class*="calendar"] {
    background: var(--bg-card) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .calendar-day,
[data-theme="dark"] .date-cell {
    background: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .calendar-day:hover,
[data-theme="dark"] .date-cell:hover {
    background: var(--bg-card) !important;
    border-color: var(--gold) !important;
}

[data-theme="dark"] .progress-text,
[data-theme="dark"] .progress-label {
    color: var(--text-primary) !important;
}

/* Attendance Panel */
[data-theme="dark"] .attendance-panel,
[data-theme="dark"] .attendance-widget {
    background: var(--bg-card) !important;
    border: 1px solid var(--border-color) !important;
}

/* Dashboard widgets with inline white backgrounds - but preserve gradients and colors */
[data-theme="dark"] [class*="widget"][style*="background: white"]:not([style*="linear-gradient"]):not([style*="gradient"]):not([class*="bg-"]),
[data-theme="dark"] [class*="widget"][style*="background:#fff"]:not([style*="linear-gradient"]):not([style*="gradient"]):not([class*="bg-"]),
[data-theme="dark"] [class*="box"][style*="background: white"]:not([style*="linear-gradient"]):not([style*="gradient"]):not([class*="badge"]):not([class*="bg-"]),
[data-theme="dark"] [class*="box"][style*="background:#fff"]:not([style*="linear-gradient"]):not([style*="gradient"]):not([class*="badge"]):not([class*="bg-"]) {
    background: var(--bg-card) !important;
}

/* Cards - preserve gradients and colored backgrounds */
[data-theme="dark"] .card[style*="background: white"]:not([style*="linear-gradient"]):not([style*="gradient"]):not([class*="bg-"]),
[data-theme="dark"] .card[style*="background:#fff"]:not([style*="linear-gradient"]):not([style*="gradient"]):not([class*="bg-"]),
[data-theme="dark"] [class*="card"][style*="background: white"]:not([style*="linear-gradient"]):not([style*="gradient"]):not([class*="bg-"]):not([class*="badge"]),
[data-theme="dark"] [class*="card"][style*="background:#fff"]:not([style*="linear-gradient"]):not([style*="gradient"]):not([class*="bg-"]):not([class*="badge"]) {
    background: var(--bg-card) !important;
}

/* Preserve ALL gradients and colored backgrounds - don't override them */
[data-theme="dark"] [style*="linear-gradient"],
[data-theme="dark"] [style*="gradient"],
[data-theme="dark"] .bg-primary,
[data-theme="dark"] .bg-success,
[data-theme="dark"] .bg-danger,
[data-theme="dark"] .bg-warning,
[data-theme="dark"] .bg-info,
[data-theme="dark"] .bg-secondary,
[data-theme="dark"] [class*="bg-primary"],
[data-theme="dark"] [class*="bg-success"],
[data-theme="dark"] [class*="bg-danger"],
[data-theme="dark"] [class*="bg-warning"],
[data-theme="dark"] [class*="bg-info"],
[data-theme="dark"] [class*="bg-secondary"] {
    /* Preserve their colors - don't override */
}

/* Ensure text on colored backgrounds is white */
[data-theme="dark"] .bg-primary,
[data-theme="dark"] .bg-success,
[data-theme="dark"] .bg-danger,
[data-theme="dark"] .bg-info,
[data-theme="dark"] .bg-secondary,
[data-theme="dark"] [class*="bg-primary"],
[data-theme="dark"] [class*="bg-success"],
[data-theme="dark"] [class*="bg-danger"],
[data-theme="dark"] [class*="bg-info"],
[data-theme="dark"] [class*="bg-secondary"] {
    color: #fff !important;
}

[data-theme="dark"] .bg-warning,
[data-theme="dark"] [class*="bg-warning"] {
    color: #000 !important;
}

/* Preserve colored backgrounds with inline styles */
[data-theme="dark"] [style*="background: rgb"],
[data-theme="dark"] [style*="background:rgb"],
[data-theme="dark"] [style*="background-color: rgb"],
[data-theme="dark"] [style*="background-color:rgb"],
[data-theme="dark"] [style*="background: #"][style*="background: #"]:not([style*="background: #fff"]):not([style*="background: #ffffff"]):not([style*="background: white"]) {
    /* Preserve color backgrounds - don't override */
}

/* Mini stat cards and icon boxes - preserve colors */
[data-theme="dark"] .mini-stat-icon,
[data-theme="dark"] [class*="stat-icon"],
[data-theme="dark"] [class*="icon-box"],
[data-theme="dark"] [class*="mini-stat"] [class*="icon"] {
    /* Preserve their background colors */
}

/* Stat boxes with colored backgrounds */
[data-theme="dark"] [class*="stat-box"],
[data-theme="dark"] [class*="stats-box"],
[data-theme="dark"] [class*="mini-stat"],
[data-theme="dark"] .stats-card,
[data-theme="dark"] .stat-card {
    /* Preserve their backgrounds if they have bg-* classes */
}

/* Don't override backgrounds on elements with Bootstrap color utilities */
[data-theme="dark"] .bg-gradient-primary,
[data-theme="dark"] .bg-gradient-success,
[data-theme="dark"] .bg-gradient-danger,
[data-theme="dark"] .bg-gradient-warning,
[data-theme="dark"] .bg-gradient-info,
[data-theme="dark"] .bg-soft-primary,
[data-theme="dark"] .bg-soft-success,
[data-theme="dark"] .bg-soft-danger,
[data-theme="dark"] .bg-soft-warning,
[data-theme="dark"] .bg-soft-info {
    /* Keep their backgrounds */
}

/* Info displays in dashboard */
[data-theme="dark"] .info-display,
[data-theme="dark"] .data-display,
[data-theme="dark"] .summary-box {
    background: var(--bg-card) !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
}

/* Chart containers */
[data-theme="dark"] .chart-container,
[data-theme="dark"] .graph-wrapper {
    background: var(--bg-card) !important;
}

/* Revenue/Sales cards */
[data-theme="dark"] .revenue-card,
[data-theme="dark"] .sales-card {
    background: var(--bg-card) !important;
    color: var(--text-primary) !important;
}

/* =================== LEADS MANAGEMENT TABLE =================== */
[data-theme="dark"] .leads-table-wrapper,
[data-theme="dark"] .management-table-wrapper {
    background: var(--bg-card) !important;
}

[data-theme="dark"] .table-responsive,
[data-theme="dark"] .table-responsive[style] {
    background: var(--bg-card) !important;
}

/* Lead detail views */
[data-theme="dark"] .lead-detail,
[data-theme="dark"] .lead-info,
[data-theme="dark"] .client-info {
    background: var(--bg-card) !important;
    color: var(--text-primary) !important;
}

/* Lead cards/boxes with light gray backgrounds */
[data-theme="dark"] [class*="lead"][style*="background: #f3f4f6"],
[data-theme="dark"] [class*="lead"][style*="background:#f3f4f6"],
[data-theme="dark"] .p-2[style*="background: #f3f4f6"],
[data-theme="dark"] .p-2[style*="background:#f3f4f6"] {
    background: var(--bg-tertiary) !important;
}

/* Action buttons in tables */
[data-theme="dark"] .action-button,
[data-theme="dark"] .table-action,
[data-theme="dark"] .row-action {
    background: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .action-button:hover,
[data-theme="dark"] .table-action:hover {
    background: var(--bg-card) !important;
    color: var(--gold) !important;
}

/* Table filters and search */
[data-theme="dark"] .table-filters,
[data-theme="dark"] .search-bar,
[data-theme="dark"] .filter-box {
    background: var(--bg-card) !important;
    border: 1px solid var(--border-color) !important;
}

/* Column headers in tables */
[data-theme="dark"] th[style*="color"],
[data-theme="dark"] thead th[style*="color"] {
    color: var(--text-primary) !important;
}

/* Table cell data with specific formatting */
[data-theme="dark"] td span:not(.badge),
[data-theme="dark"] td div:not(.badge):not([class*="bg-"]) {
    color: var(--text-primary) !important;
}

/* Phone, email, and other contact info in tables */
[data-theme="dark"] td a:not(.btn):not(.badge),
[data-theme="dark"] td a[href^="tel"],
[data-theme="dark"] td a[href^="mailto"] {
    color: var(--gold) !important;
}

/* N/A or empty state text */
[data-theme="dark"] td:contains("N/A"),
[data-theme="dark"] td:contains("n/a"),
[data-theme="dark"] .empty-value,
[data-theme="dark"] .na-value {
    color: var(--text-muted) !important;
}

/* DataTables Wrapper */
[data-theme="dark"] .dataTables_wrapper .dataTables_length,
[data-theme="dark"] .dataTables_wrapper .dataTables_filter,
[data-theme="dark"] .dataTables_wrapper .dataTables_info,
[data-theme="dark"] .dataTables_wrapper .dataTables_paginate {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .dataTables_wrapper .dataTables_length label,
[data-theme="dark"] .dataTables_wrapper .dataTables_filter label {
    color: var(--text-primary) !important;
}

/* Search and filter sections */
[data-theme="dark"] .search-section,
[data-theme="dark"] .search-filters {
    background: var(--bg-card) !important;
    border: 1px solid var(--border-color) !important;
}

/* =================== PRINT STYLES (Don't apply dark mode) =================== */
@media print {
    [data-theme="dark"] * {
        background: white !important;
        color: black !important;
        border-color: #ddd !important;
    }
}

/* =================== CATCH-ALL OVERRIDES =================== */

/* Any div, section, article with white background - but preserve colored elements with bg-* classes */
[data-theme="dark"] div:not([class*="badge"]):not(.btn):not([class*="alert-"]):not([style*="linear-gradient"]):not([class*="bg-"])[style*="background: white"],
[data-theme="dark"] div:not([class*="badge"]):not(.btn):not([class*="alert-"]):not([style*="linear-gradient"]):not([class*="bg-"])[style*="background:white"],
[data-theme="dark"] div:not([class*="badge"]):not(.btn):not([class*="alert-"]):not([style*="linear-gradient"]):not([class*="bg-"])[style*="background: #fff"],
[data-theme="dark"] div:not([class*="badge"]):not(.btn):not([class*="alert-"]):not([style*="linear-gradient"]):not([class*="bg-"])[style*="background:#fff"],
[data-theme="dark"] section[style*="background: white"]:not([class*="bg-"]),
[data-theme="dark"] section[style*="background:#fff"]:not([class*="bg-"]),
[data-theme="dark"] article[style*="background: white"]:not([class*="bg-"]),
[data-theme="dark"] article[style*="background:#fff"]:not([class*="bg-"]) {
    background-color: transparent !important;
    background: transparent !important;
}

/* Wrapper elements - but preserve colored backgrounds */
[data-theme="dark"] .wrapper:not([class*="bg-"]),
[data-theme="dark"] .container:not([class*="bg-"]),
[data-theme="dark"] .content-wrapper:not([class*="bg-"]),
[data-theme="dark"] .main-content:not([class*="bg-"]) {
    background: transparent !important;
    color: var(--text-primary) !important;
}

/* Panel, well, jumbotron */
[data-theme="dark"] .panel,
[data-theme="dark"] .well,
[data-theme="dark"] .jumbotron {
    background: var(--bg-card) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border-color) !important;
}

/* All text that might have dark colors */
[data-theme="dark"] *[style*="color: #000"]:not(.badge):not(.btn):not([class*="bg-"]):not([style*="background"]),
[data-theme="dark"] *[style*="color:#000"]:not(.badge):not(.btn):not([class*="bg-"]):not([style*="background"]),
[data-theme="dark"] *[style*="color: #111"]:not(.badge):not(.btn):not([class*="bg-"]):not([style*="background"]),
[data-theme="dark"] *[style*="color:#111"]:not(.badge):not(.btn):not([class*="bg-"]):not([style*="background"]),
[data-theme="dark"] *[style*="color: black"]:not(.badge):not(.btn):not([class*="bg-"]):not([style*="background"]),
[data-theme="dark"] *[style*="color:black"]:not(.badge):not(.btn):not([class*="bg-"]):not([style*="background"]) {
    color: var(--text-primary) !important;
}

/* Muted/gray text colors */
[data-theme="dark"] *[style*="color: #6b7280"],
[data-theme="dark"] *[style*="color:#6b7280"],
[data-theme="dark"] *[style*="color: #9ca3af"],
[data-theme="dark"] *[style*="color:#9ca3af"],
[data-theme="dark"] *[style*="color: #94a3b8"],
[data-theme="dark"] *[style*="color:#94a3b8"] {
    color: var(--text-secondary) !important;
}

/* Force all generic containers with light backgrounds */
[data-theme="dark"] *[style*="background: #fafaf8"],
[data-theme="dark"] *[style*="background:#fafaf8"],
[data-theme="dark"] *[style*="background: #fafafa"],
[data-theme="dark"] *[style*="background:#fafafa"] {
    background: var(--bg-secondary) !important;
}

/* Empty states, placeholders */
[data-theme="dark"] .empty-state,
[data-theme="dark"] .no-data,
[data-theme="dark"] .placeholder,
[data-theme="dark"] [class*="empty"],
[data-theme="dark"] [class*="no-data"] {
    color: var(--text-secondary) !important;
}

/* All unordered and ordered lists */
[data-theme="dark"] ul,
[data-theme="dark"] ol,
[data-theme="dark"] li {
    color: var(--text-primary) !important;
}

/* Definition lists */
[data-theme="dark"] dl,
[data-theme="dark"] dt,
[data-theme="dark"] dd {
    color: var(--text-primary) !important;
}

/* Blockquotes */
[data-theme="dark"] blockquote {
    color: var(--text-secondary) !important;
    border-left-color: var(--border-color) !important;
}

/* Code blocks (not inline code in buttons/badges) */
[data-theme="dark"] code:not(.btn *):not(.badge *),
[data-theme="dark"] pre {
    background: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border-color) !important;
}

/* Keyboard shortcuts */
[data-theme="dark"] kbd {
    background: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border-color) !important;
}

/* Tooltips */
[data-theme="dark"] .tooltip .tooltip-inner {
    background: var(--bg-card) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .tooltip.bs-tooltip-top .tooltip-arrow::before,
[data-theme="dark"] .tooltip.bs-tooltip-bottom .tooltip-arrow::before {
    border-top-color: var(--bg-card) !important;
    border-bottom-color: var(--bg-card) !important;
}

/* Popovers */
[data-theme="dark"] .popover {
    background: var(--bg-card) !important;
    border: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .popover-header {
    background: var(--bg-tertiary) !important;
    border-bottom: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .popover-body {
    color: var(--text-primary) !important;
}

/* Wells, containers with gray backgrounds */
[data-theme="dark"] *[style*="background: #e5e7eb"],
[data-theme="dark"] *[style*="background:#e5e7eb"],
[data-theme="dark"] *[style*="background: #e8e6e1"],
[data-theme="dark"] *[style*="background:#e8e6e1"] {
    background: var(--border-color) !important;
}

/* Final nuclear option for common white background patterns */
[data-theme="dark"] [style*="background-color: #ffffff"]:not([style*="linear-gradient"]):not(.badge):not(.btn):not([class*="alert"]),
[data-theme="dark"] [style*="background-color:#ffffff"]:not([style*="linear-gradient"]):not(.badge):not(.btn):not([class*="alert"]),
[data-theme="dark"] [style*="background-color: #fff"]:not([style*="linear-gradient"]):not(.badge):not(.btn):not([class*="alert"]),
[data-theme="dark"] [style*="background-color:#fff"]:not([style*="linear-gradient"]):not(.badge):not(.btn):not([class*="alert"]),
[data-theme="dark"] [style*="background-color:white"]:not([style*="linear-gradient"]):not(.badge):not(.btn):not([class*="alert"]),
[data-theme="dark"] [style*="background-color: white"]:not([style*="linear-gradient"]):not(.badge):not(.btn):not([class*="alert"]) {
    background-color: transparent !important;
}

/* Remove borders from common elements */
[data-theme="dark"] *:not(table):not(.table):not(.card):not(.btn):not(.badge):not(.alert):not(.modal):not(.dropdown-menu):not(input):not(select):not(textarea):not([class*="border"]) {
    box-shadow: none !important;
}

/* Remove white box-shadows completely */
[data-theme="dark"] [style*="box-shadow"]:not(.card):not(.modal):not(.dropdown-menu) {
    box-shadow: none !important;
}

/* Cards and modals can have subtle shadows */
[data-theme="dark"] .card,
[data-theme="dark"] .modal-content,
[data-theme="dark"] .dropdown-menu {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;
}

/* Remove borders from inline styled elements - make them dark or remove */
[data-theme="dark"] [style*="border: 1px solid #e"]:not(.card):not(input):not(select):not(textarea),
[data-theme="dark"] [style*="border:1px solid #e"]:not(.card):not(input):not(select):not(textarea),
[data-theme="dark"] [style*="border: 1px solid #d"]:not(.card):not(input):not(select):not(textarea),
[data-theme="dark"] [style*="border:1px solid #d"]:not(.card):not(input):not(select):not(textarea) {
    border: none !important;
}

/* Any remaining white/light borders - remove them */
[data-theme="dark"] [style*="border-color: #fff"]:not(.card):not(input):not(select):not(textarea),
[data-theme="dark"] [style*="border-color:#fff"]:not(.card):not(input):not(select):not(textarea),
[data-theme="dark"] [style*="border-color: white"]:not(.card):not(input):not(select):not(textarea),
[data-theme="dark"] [style*="border-color:white"]:not(.card):not(input):not(select):not(textarea),
[data-theme="dark"] [style*="border-color: #f"]:not(.card):not(input):not(select):not(textarea),
[data-theme="dark"] [style*="border-color:#f"]:not(.card):not(input):not(select):not(textarea) {
    border: none !important;
}

/* Border radius for elements that should be rounded */
[data-theme="dark"] [style*="border-radius: 8px"],
[data-theme="dark"] [style*="border-radius:8px"] {
    border-radius: 8px !important;
}

/* =================== SCROLLBAR FOR ENTIRE APP =================== */
[data-theme="dark"] *::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

[data-theme="dark"] *::-webkit-scrollbar-track {
    background: var(--bg-tertiary);
}

[data-theme="dark"] *::-webkit-scrollbar-thumb {
    background: var(--bg-card);
    border-radius: 5px;
}

[data-theme="dark"] *::-webkit-scrollbar-thumb:hover {
    background: var(--text-muted);
}

/* =================== UTILITY OVERRIDES =================== */
[data-theme="dark"] .text-white {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .border-white {
    border-color: var(--border-color) !important;
}

/* Fix for hardcoded background in style attributes */
[data-theme="dark"] [style*="background-color:#fff"],
[data-theme="dark"] [style*="background-color: #fff"],
[data-theme="dark"] [style*="background-color:#ffffff"],
[data-theme="dark"] [style*="background-color: #ffffff"] {
    background-color: var(--bg-card) !important;
}

/* Gold/Important elements should remain gold */
[data-theme="dark"] [style*="background: #d4af37"],
[data-theme="dark"] [style*="background:#d4af37"],
[data-theme="dark"] [style*="color: #d4af37"],
[data-theme="dark"] [style*="color:#d4af37"] {
    /* Keep gold colors */
}

/* Ensure buttons with explicit backgrounds remain visible */
[data-theme="dark"] .btn-primary {
    background: #3b82f6 !important;
    border-color: #3b82f6 !important;
    color: white !important;
}

[data-theme="dark"] .btn-secondary {
    background: var(--bg-tertiary) !important;
    border-color: var(--border-color) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .btn-success {
    background: #10b981 !important;
    border-color: #10b981 !important;
    color: white !important;
}

[data-theme="dark"] .btn-danger {
    background: #ef4444 !important;
    border-color: #ef4444 !important;
    color: white !important;
}

[data-theme="dark"] .btn-warning {
    background: #f59e0b !important;
    border-color: #f59e0b !important;
    color: white !important;
}

[data-theme="dark"] .btn-info {
    background: #3b82f6 !important;
    border-color: #3b82f6 !important;
    color: white !important;
}

[data-theme="dark"] .btn-light {
    background: var(--bg-tertiary) !important;
    border-color: var(--border-color) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .btn-dark {
    background: var(--bg-card) !important;
    border-color: var(--border-color) !important;
    color: var(--text-primary) !important;
}
